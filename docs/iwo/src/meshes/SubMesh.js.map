{"version":3,"file":"SubMesh.js","sources":["../../../../iwo/src/meshes/SubMesh.ts"],"sourcesContent":["import { IndexBuffer } from \"graphics/IndexBuffer\";\r\nimport { VertexBuffer } from \"graphics/VertexBuffer\";\r\n\r\nexport class SubMesh {\r\n    public readonly index_buffer: IndexBuffer | undefined;\r\n    public readonly vertex_buffer: VertexBuffer;\r\n\r\n    //Offset in the index/vertex buffer\r\n    public readonly offset: number;\r\n    //Number of indices/vertices to draw\r\n    public readonly count: number;\r\n    //Material index reference the material of the mesh instance\r\n    public readonly material_index: number;\r\n\r\n    public constructor(\r\n        material_index: number,\r\n        offset: number,\r\n        count: number,\r\n        vertex_buffer: VertexBuffer,\r\n        index_buffer: IndexBuffer | undefined\r\n    ) {\r\n        this.index_buffer = index_buffer;\r\n        this.vertex_buffer = vertex_buffer;\r\n        this.offset = offset;\r\n        this.count = count;\r\n        this.material_index = material_index;\r\n\r\n        this.vertex_buffer.references.increment();\r\n        if (this.index_buffer) this.index_buffer.references.increment();\r\n    }\r\n\r\n    public destroy(): void {\r\n        this.vertex_buffer.references.decrement();\r\n        if (this.index_buffer) this.index_buffer.references.decrement();\r\n    }\r\n}\r\n"],"names":[],"mappings":"MAGa,OAAO;IACA,YAAY,CAA0B;IACtC,aAAa,CAAe;;IAG5B,MAAM,CAAS;;IAEf,KAAK,CAAS;;IAEd,cAAc,CAAS;IAEvC,YACI,cAAsB,EACtB,MAAc,EACd,KAAa,EACb,aAA2B,EAC3B,YAAqC;QAErC,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QAErC,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;QAC1C,IAAI,IAAI,CAAC,YAAY;YAAE,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;KACnE;IAEM,OAAO;QACV,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;QAC1C,IAAI,IAAI,CAAC,YAAY;YAAE,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;KACnE;;;;;"}